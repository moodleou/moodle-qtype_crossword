define("qtype_crossword/crossword",["exports","qtype_crossword/crossword_grid"],(function(_exports,_crossword_grid){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.preview=_exports.attempt=void 0;_exports.attempt=options=>{new _crossword_grid.CrosswordGrid(options).buildCrossword()};_exports.preview=options=>{const element=document.querySelector(options.element);element&&(element.removeAttribute("disabled"),element.addEventListener("click",(function(event){event.preventDefault();const columnEl=document.querySelector('select[name="numcolumns"]'),rowEl=document.querySelector('select[name="numrows"]'),words=function(){const answersEl=document.querySelectorAll("fieldset#id_words .fcontainer .form-group.row"),alphaRegex=/^[a-z]+/;let words=[],i=0,no=0,word={};return answersEl?(answersEl.forEach((obj=>{let inputEl=obj.querySelectorAll('input[type="text"]'),selectEl=obj.querySelectorAll("select");inputEl.length>0&&inputEl.forEach((inputEl=>{var _inputEl$name$match;const name=null===(_inputEl$name$match=inputEl.name.match(alphaRegex))||void 0===_inputEl$name$match?void 0:_inputEl$name$match.pop();word[name]=inputEl.value.trim()})),selectEl.length>0&&selectEl.forEach((selectEl=>{var _selectEl$name$match;const name=null===(_selectEl$name$match=selectEl.name.match(alphaRegex))||void 0===_selectEl$name$match?void 0:_selectEl$name$match.pop();word[name]=selectEl.selectedIndex})),i++,0!==i&&i%2==0&&(no++,word.no=no,words.push(word),word={})})),words):words}(options.target),settings={...options,words:words,colsNum:columnEl.options[columnEl.selectedIndex].text,rowsNum:rowEl.options[rowEl.selectedIndex].text};new _crossword_grid.CrosswordGrid(settings).previewCrossword()})))}}));

//# sourceMappingURL=crossword.min.js.map